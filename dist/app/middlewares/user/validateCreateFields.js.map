{"version":3,"sources":["../../../../src/app/middlewares/user/validateCreateFields.js"],"names":["Yup","req","res","next","schema","object","shape","name","string","required","email","phone","min","max","password","isValid","body","status","json","message","code"],"mappings":";;;;;;AAAA;;IAAYA,G;;;;;;;qEAEG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,kBADO,GACEJ,IAAIK,MAAJ,GAAaC,KAAb,CAAmB;AAChCC,oBAAMP,IAAIQ,MAAJ,GAAaC,QAAb,EAD0B;AAEhCC,qBAAOV,IAAIQ,MAAJ,GACJE,KADI,GAEJD,QAFI,EAFyB;AAKhCE,qBAAOX,IAAIQ,MAAJ,GACJI,GADI,CACA,CADA,EAEJC,GAFI,CAEA,EAFA,EAGJJ,QAHI,EALyB;AAShCK,wBAAUd,IAAIQ,MAAJ,GACPI,GADO,CACH,CADG,EAEPH,QAFO;AATsB,aAAnB,CADF;AAAA;AAAA,mBAeDL,OAAOW,OAAP,CAAed,IAAIe,IAAnB,CAfC;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,6CAgBJd,IAAIe,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,uBACE,uEAFwB;AAG1BC,oBAAM;AAHoB,aAArB,CAhBI;;AAAA;AAAA,6CAuBNjB,MAvBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","file":"validateCreateFields.js","sourcesContent":["import * as Yup from 'yup';\r\n\r\nexport default async (req, res, next) => {\r\n  const schema = Yup.object().shape({\r\n    name: Yup.string().required(),\r\n    email: Yup.string()\r\n      .email()\r\n      .required(),\r\n    phone: Yup.string()\r\n      .min(9)\r\n      .max(11)\r\n      .required(),\r\n    password: Yup.string()\r\n      .min(6)\r\n      .required(),\r\n  });\r\n\r\n  if (!(await schema.isValid(req.body))) {\r\n    return res.status(400).json({\r\n      message:\r\n        'Parece que você não forneceu todos os dados necessários corretamente.',\r\n      code: 'ERROR_BAD_REQUEST',\r\n    });\r\n  }\r\n\r\n  return next();\r\n};\r\n"]}