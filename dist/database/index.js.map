{"version":3,"sources":["../../src/database/index.js"],"names":["models","User","Services","Schedules","Times","Role","UserRole","Tokens","Device","Database","init","connection","Sequelize","databaseConfig","map","model","associate","error","console","log"],"mappings":";;;;;;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;AAEA,IAAMA,SAAS,CACbC,cADa,EAEbC,kBAFa,EAGbC,mBAHa,EAIbC,eAJa,EAKbC,cALa,EAMbC,kBANa,EAObC,gBAPa,EAQbC,gBARa,CAAf;;IAWMC,Q;AACJ,sBAAc;AAAA;;AACZ,SAAKC,IAAL;AACD;;;;2BAEM;AAAA;;AACL,UAAI;AACF,aAAKC,UAAL,GAAkB,IAAIC,mBAAJ,CAAcC,kBAAd,CAAlB;;AAEAb,eACGc,GADH,CACO;AAAA,iBAASC,MAAML,IAAN,CAAW,MAAKC,UAAhB,CAAT;AAAA,SADP,EAEGG,GAFH,CAGI;AAAA,iBAASC,MAAMC,SAAN,IAAmBD,MAAMC,SAAN,CAAgB,MAAKL,UAAL,CAAgBX,MAAhC,CAA5B;AAAA,SAHJ;AAKD,OARD,CAQE,OAAOiB,KAAP,EAAc;AACd;AACAC,gBAAQC,GAAR,CAAYF,KAAZ;AACD;AACF;;;;;;kBAGY,IAAIR,QAAJ,E","file":"index.js","sourcesContent":["import Sequelize from 'sequelize';\r\n\r\nimport User from '../app/models/User';\r\nimport Services from '../app/models/Services';\r\nimport Schedules from '../app/models/Schedules';\r\nimport Times from '../app/models/Times';\r\nimport Role from '../app/models/Role';\r\nimport UserRole from '../app/models/UserRole';\r\nimport Tokens from '../app/models/Tokens';\r\nimport Device from '../app/models/Device';\r\n\r\nimport databaseConfig from '../config/database';\r\n\r\nconst models = [\r\n  User,\r\n  Services,\r\n  Schedules,\r\n  Times,\r\n  Role,\r\n  UserRole,\r\n  Tokens,\r\n  Device,\r\n];\r\n\r\nclass Database {\r\n  constructor() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    try {\r\n      this.connection = new Sequelize(databaseConfig);\r\n\r\n      models\r\n        .map(model => model.init(this.connection))\r\n        .map(\r\n          model => model.associate && model.associate(this.connection.models)\r\n        );\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Database();\r\n"]}