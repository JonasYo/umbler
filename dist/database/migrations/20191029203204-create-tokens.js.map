{"version":3,"sources":["../../../src/database/migrations/20191029203204-create-tokens.js"],"names":["module","exports","up","queryInterface","Sequelize","createTable","id","allowNull","autoIncrement","primaryKey","type","INTEGER","user_id","references","model","key","onUpdate","onDelete","token","STRING","is_revoked","TINYINT","defaultValue","created_at","DATE","updated_at","down","dropTable"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,MAAI,YAACC,cAAD,EAAiBC,SAAjB,EAA+B;AACjC,WAAOD,eAAeE,WAAf,CAA2B,QAA3B,EAAqC;AAC1CC,UAAI;AACFC,mBAAW,KADT;AAEFC,uBAAe,IAFb;AAGFC,oBAAY,IAHV;AAIFC,cAAMN,UAAUO;AAJd,OADsC;AAO1CC,eAAS;AACPF,cAAMN,UAAUO,OADT;AAEPJ,mBAAW,KAFJ;AAGPM,oBAAY,EAAEC,OAAO,OAAT,EAAkBC,KAAK,IAAvB,EAHL;AAIPC,kBAAU,SAJH;AAKPC,kBAAU;AALH,OAPiC;AAc1CC,aAAO;AACLR,cAAMN,UAAUe,MADX;AAELZ,mBAAW;AAFN,OAdmC;AAkB1CG,YAAM;AACJA,cAAMN,UAAUe,MADZ;AAEJZ,mBAAW;AAFP,OAlBoC;AAsB1Ca,kBAAY;AACVV,cAAMN,UAAUiB,OADN;AAEVC,sBAAc;AAFJ,OAtB8B;AA0B1CC,kBAAY;AACVb,cAAMN,UAAUoB,IADN;AAEVjB,mBAAW;AAFD,OA1B8B;AA8B1CkB,kBAAY;AACVf,cAAMN,UAAUoB,IADN;AAEVjB,mBAAW;AAFD;AA9B8B,KAArC,CAAP;AAmCD,GArCc;AAsCfmB,QAAM,8BAAkB;AACtB,WAAOvB,eAAewB,SAAf,CAAyB,QAAzB,CAAP;AACD;AAxCc,CAAjB","file":"20191029203204-create-tokens.js","sourcesContent":["module.exports = {\n  up: (queryInterface, Sequelize) => {\n    return queryInterface.createTable('tokens', {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: Sequelize.INTEGER,\n      },\n      user_id: {\n        type: Sequelize.INTEGER,\n        allowNull: false,\n        references: { model: 'users', key: 'id' },\n        onUpdate: 'CASCADE',\n        onDelete: 'CASCADE',\n      },\n      token: {\n        type: Sequelize.STRING,\n        allowNull: false,\n      },\n      type: {\n        type: Sequelize.STRING,\n        allowNull: false,\n      },\n      is_revoked: {\n        type: Sequelize.TINYINT,\n        defaultValue: '0',\n      },\n      created_at: {\n        type: Sequelize.DATE,\n        allowNull: false,\n      },\n      updated_at: {\n        type: Sequelize.DATE,\n        allowNull: false,\n      },\n    });\n  },\n  down: queryInterface => {\n    return queryInterface.dropTable('tokens');\n  },\n};\n"]}